> æ–‡ç« å¯ä»¥ç™½å«–ï¼Œè€é“ä»¬é¡ºä¾¿å…³æ³¨ä¸€ä¸‹æˆ‘çš„å…¬ä¼—å·ï¼Œæ‰‹åŠ¨æ»‘ç¨½ğŸ¤£ğŸ¤£ &nbsp;
>
> æ¬¢è¿å¤§å®¶å…³æ³¨ï¼š**æ­¦å“¥èŠç¼–ç¨‹**ã€**Javaå¼€å‘å®å…¸**ã€**Javaç§ƒå¤´å“¥**ï¼Œæ‚¨çš„æ”¯æŒï¼Œæ˜¯æˆ‘åˆ›ä½œçš„æŒç»­åŠ¨åŠ›ï¼&nbsp;&nbsp;

![æ­¦å“¥èŠç¼–ç¨‹](https://img-blog.csdnimg.cn/202002150421550.jpg)![Javaå¼€å‘å®å…¸](https://img-blog.csdnimg.cn/20200608005630228.png)![Javaç§ƒå¤´å“¥](https://img-blog.csdnimg.cn/20201025170941235.png)

----




## RabbitMQæ˜¯ä»€ä¹ˆï¼Ÿ

RabbitMQ æ˜¯å½“å‰çƒ­é—¨çš„æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶ä¹‹ä¸€ã€‚

## RabbitMQä¸»è¦ç‰¹ç‚¹

æ ¹æ®å®šä¹‰ï¼ˆMessage Queueï¼‰å¯çŸ¥å®ƒæ˜¯ä¸ªå…·æœ‰**å…ˆè¿›å…ˆå‡º**ç‰¹ç‚¹çš„æ¶ˆæ¯å­˜å‚¨ä¸­é—´ä»¶ï¼Œå¯ä»¥ç†è§£ä¸ºå­˜å‚¨æ¶ˆæ¯çš„å®¹å™¨ã€‚ç”Ÿäº§è€…åªéœ€å°†æ¶ˆæ¯æ”¾å…¥è¯¥å®¹å™¨ä¸­ï¼Œè€Œæ— éœ€å…³å¿ƒæ¶ˆè´¹è€…å¦‚ä½•å¤„ç†æ¶ˆæ¯ã€‚åŒæ—¶æ¶ˆæ¯å¯ä»¥ç”±å¤šä¸ªç”Ÿäº§è€…å­˜å…¥ä¸­é—´ä»¶ï¼Œä¹Ÿå¯ä»¥ç”±å¤šä¸ªæ¶ˆè´¹è€…å»è·å–å¹¶å¤„ç†ã€‚åŒæ—¶ç”Ÿäº§è€…å¹¶ä¸çŸ¥é“æ¶ˆè´¹è€…ä½•æ—¶å¤„ç†æ¶ˆæ¯ï¼Œå› æ­¤å®ƒè¿˜å…·æœ‰å¼‚æ­¥çš„ç‰¹æ€§ã€‚

æ€»ç»“ä¸€ä¸‹ä¸»è¦ç‰¹ç‚¹ï¼š

- é˜»å¡&æœ‰åºï¼šé€šè¿‡å…ˆè¿›å…ˆå‡ºç»´æŠ¤ä¸€ä¸ªé˜»å¡çš„æœ‰åºé˜Ÿåˆ—
- ä¸­é—´ä»¶å®¹å™¨ï¼šåœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸‹ä½¿ç”¨ï¼Œç”¨äºå¤šåº”ç”¨é—´é€šä¿¡
- å¼‚æ­¥ï¼šç”Ÿäº§è€…å°†æ¶ˆæ¯ä¸¢å…¥å®¹å™¨å³å¯ï¼Œä¸å†å…³å¿ƒæ¶ˆè´¹è€…ä½•æ—¶å¤„ç†

## ä½¿ç”¨RabbitMQä¸»è¦ç›®çš„

é€šè¿‡ä¸Šè¿°ç‰¹ç‚¹ï¼Œä¾¿å¯ä»¥ç†è§£MQå¸¸è§çš„ä½¿ç”¨ç›®çš„ï¼š

- **è§£è€¦ï¼š**ç»´æŠ¤äº†ç”Ÿäº§è€…-> ä¸­é—´ä»¶  å’Œ ä¸­é—´ä»¶->æ¶ˆè´¹è€…çš„å…³ç³»ï¼Œè®©ç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…æ²¡æœ‰ç›´æ¥çš„è°ƒç”¨å…³ç³»ï¼Œä»…éœ€å…³å¿ƒå„è‡ªçš„å‘/æ”¶çš„æ•°æ®ç»“æ„å³å¯ï¼Œè¾¾åˆ°ç¨‹åºè§£è€¦çš„ç›®çš„ã€‚
- **å‰Šå³°ï¼š**å½“ç”Ÿäº§è€…æ”¶åˆ°å¤§é‡è¯·æ±‚æ—¶ï¼Œç”Ÿäº§æ¶ˆæ¯ä¸¢ç»™mqæ— éœ€ç«‹å³å¤„ç†(ç«‹åˆ»å“åº”ï¼Œæ…¢æ…¢å¤„ç†)ã€‚ä¸”å¯ä»¥å¢åŠ æ¶ˆè´¹è€…æ•°é‡ï¼Œæ¥åˆ†æ‘Šå¤„ç†ç”Ÿäº§è€…ç”Ÿäº§çš„çš„æ¶ˆæ¯ã€‚é€šè¿‡å¼‚æ­¥å’Œè´Ÿè½½å‡è¡¡åˆ†æµæ€è·¯ï¼Œæ¥è§£å†³ç”Ÿäº§è€…éœ€è¦åŠæ—¶å¤„ç†å¤§é‡è¯·æ±‚çš„é—®é¢˜ï¼Œä»¥è¾¾åˆ°å‰Šå³°çš„ç›®çš„ã€‚

### è§£è€¦ä¾‹å­ï¼š

å¦‚æœæŸä¸ªåŠŸèƒ½éœ€è¦A  B  C ä¸‰ä¸ªæ­¥éª¤ï¼Œå¹¶ä¸”å¾—ä¾æ¬¡æ‰§è¡Œï¼Œå¹¶ä¸” A B C éƒ½è¦æ‰§è¡Œå¾ˆä¹…ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­Aæ˜¯å¦æ‰§è¡Œå®Œï¼Œç„¶åæ‰§è¡ŒBï¼Œæ¥ç€åˆ¤æ–­Bæ˜¯å¦æ‰§è¡Œå®Œï¼Œç„¶åå†æ‰§è¡ŒCã€‚

å¦‚æœç”¨äº†MQï¼Œé‚£ä¹ˆAåªéœ€è¦ç«‹åˆ»è¿”å›ï¼Œå‘Šè¯‰ç”¨æˆ·è¯·æ±‚æˆåŠŸï¼Œå¤„ç†å®Œæˆåä¸¢ä¸€ä¸ªæ¶ˆæ¯ç»™MQï¼Œé‚£ä¹ˆBå°±å¯ä»¥æ ¹æ®MQä¸­æ¶ˆæ¯æ‰§è¡Œä¸‹ä¸€æ­¥ï¼ŒåŒæ ·ï¼ŒBæ‰§è¡Œå®Œå‘é€å¤„ç†ç»“æœç»™MQå°±è¡Œï¼ŒCè‡ªç„¶èƒ½æ‹¿åˆ°æ¶ˆæ¯å¹¶ç»§ç»­æ‰§è¡Œè‡ªå·±çš„ä¸šåŠ¡å¤„ç†ã€‚å¦‚æœä¸­é€”Bå¤±è´¥äº†ï¼ŒCè‡ªç„¶ä¸ä¼šæ”¶åˆ°æ¶ˆæ¯ï¼Œä¹Ÿå°±ä¸ä¼šæ‰§è¡Œäº†ã€‚è¿™æ ·Bä¸éœ€è¦å…³å¿ƒAæ˜¯å¦æˆåŠŸï¼ŒCä¹Ÿä¸éœ€è¦å…³å¿ƒBæ˜¯å¦æˆåŠŸï¼Œåªè¦åˆ¤æ–­MQæ˜¯å¦æœ‰æ¶ˆæ¯ï¼Œæ¶ˆæ¯æ•°æ®æ˜¯å¦æ»¡è¶³ä¸šåŠ¡éœ€è¦å³å¯ã€‚

ç”±äºRabbitMQ è¿˜å…·å¤‡æœ‰åºã€æ¶ˆæ¯é€šä¿¡ç­‰ç‰¹ç‚¹ï¼Œå› æ­¤è¿˜å¯ä»¥ç”¨æ¥è§£å†³ä¸€äº›ä¸šåŠ¡å¤„ç†é¡ºåºçš„é—®é¢˜ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºåˆ†å¸ƒå¼ç¯å¢ƒçš„æ•°æ®ä¼ è¾“/å­˜å‚¨ä¸­é—´ä»¶ï¼Œä½†æ˜¯è¿™ä¹ˆç”¨çš„è¯ï¼Œå°±ä¼šæ˜¾å¾—æ¯”è¾ƒ"éªš"äº†ï¼Œå› ä¸ºæƒ³è¦ä½¿ç”¨è¿™äº›ç‰¹ç‚¹æ—¶å€™ï¼Œéƒ½æœ‰æ›´å¥½çš„ä¸­é—´ä»¶äº§å“å¯ä»¥é€‰æ‹©ã€‚å› æ­¤åœ¨ä½¿ç”¨MQæˆ–è€…å…¶ä»–æŠ€æœ¯çš„æ—¶å€™ï¼Œéƒ½åº”è¯¥å°½é‡é¿å…è¿™ç§"éªšæ“ä½œ"ï¼Œå½“ç„¶ç‰¹æ®Šé—®é¢˜ç‰¹æ®Šçœ‹å¾…ï¼Œåœ¨ä¸€äº›ç‰¹å®šåœºæ™¯ä¸‹èƒ½è§£å†³é—®é¢˜ï¼Œ"éªšä¸€ä¸‹"ä¹Ÿæ˜¯æƒ…æœ‰å¯åŸçš„ã€‚



è¯´åˆ°è¿™å¯èƒ½ä¼šå­˜åœ¨ä¸€äº›ç–‘é—®ï¼š

- å¦‚æœæ˜¯é˜»å¡é˜Ÿåˆ—ï¼Œæˆ‘ä¸ºä»€ä¹ˆä¸ç”¨Javaè‡ªå¸¦çš„BlockingQueueï¼Ÿä¸ºä»€ä¹ˆè¦ç”¨RabbitMQï¼Ÿ

- å¦‚æœæ˜¯ä¸ºäº†å¼‚æ­¥ï¼Œæˆ‘ä¸ºä»€ä¹ˆä¸ç›´æ¥`new Thread(()->{}).start()`ï¼Ÿ

- å¦‚æœæ˜¯ä¸ºäº†é€šä¿¡ï¼Œä¸ºä»€ä¹ˆä¸ç›´æ¥ä½¿ç”¨Httpçš„å·¥å…·ï¼Œç›´æ¥å‘HTTPè¯·æ±‚ï¼Ÿ

è¿™äº›ç–‘é—®éƒ½æ²¡é”™ã€‚å¦‚æœåªæ˜¯ä¸ºäº†é€šè¿‡é˜»å¡é˜Ÿåˆ—æ§åˆ¶ä»£ç æ‰§è¡Œé¡ºåºï¼Œç”¨BlockingQueueï¼Œè¿™å½“ç„¶æ²¡é—®é¢˜ï¼Œä¹Ÿæœ€ç®€å•ã€‚

å¦‚æœåœ¨å•ä¸€åœºæ™¯ä¸‹ï¼Œä»…ä»…ä¸ºäº†å¼‚æ­¥ï¼Œä¸”ç³»ç»Ÿæœ¬èº«ä¸å­˜åœ¨æ€§èƒ½ç“¶é¢ˆï¼Œä½¿ç”¨çº¿ç¨‹/çº¿ç¨‹æ± ä¹Ÿæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚

å¦‚æœä»…ä»…ä¸ºäº†é€šä¿¡ï¼Œå‘ä¸€ä¸ªjson  å­—ç¬¦ä¸² æˆ–è€…å…¶å®ƒå­—èŠ‚æµç­‰ä¿¡æ¯ï¼Œä¹Ÿç¡®å®æ²¡æœ‰å¿…è¦å¼•å…¥RabbitMQå¢åŠ å¤æ‚åº¦ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬ä½¿ç”¨mq é™¤äº†ä¸Šè¿°çš„è§£è€¦ï¼Œå‰Šå³°ç­‰ä¸»è¦ç›®çš„å¤–ï¼Œè¿˜ä¸ºäº†ä½¿ç”¨å®ƒå¼‚æ­¥ï¼Œé˜»å¡ï¼Œé€šä¿¡ï¼Œå­˜å‚¨æ¶ˆæ¯ï¼Œçµæ´»çš„ç”Ÿäº§/æ¶ˆè´¹è§„åˆ™ï¼Œè€Œè¿™äº›ç‰¹ç‚¹æƒ³è¦åŒæ—¶ä½¿ç”¨ï¼Œè®©æ¶ˆæ¯å®ç°æ–¹ä¾¿çš„ç½‘ç»œä¼ è¾“ã€å¯é çš„å­˜å‚¨ã€çµæ´»çš„æŠ•é€’ï¼Œé‚£æˆ‘ä»¬ç”¨MQè‡ªç„¶æ˜¯æ›´åˆé€‚ï¼Œè€Œä¸éœ€è¦è‡ªå·±å¤§é‡ç¼–ç æ¥ç»´æŠ¤æ¶ˆæ¯é˜Ÿåˆ—çš„è¿™äº›ç‰¹æ€§ã€‚



## RabbitMQä½¿ç”¨åœºæ™¯

ä¸Šé¢åˆ†æäº†é‚£ä¹ˆå¤šæ¦‚å¿µï¼Œç°åœ¨ä½ èƒ½çŸ¥é“ä»€ä¹ˆæ—¶å€™ä½¿ç”¨mqäº†å—ï¼Ÿ

ä¸‹é¢ä¸¾ä¸€ä¸ªå¸¸è§çš„åœºæ™¯æ–¹ä¾¿å¤§å®¶ç†è§£ï¼š

ç³»ç»Ÿéœ€è¦åšç§’æ€æ´»åŠ¨ï¼Œå½“ç”¨æˆ·æŠ¢è´­å•†å“æ—¶éœ€è¦é”å®šåº“å­˜ï¼Œæ‰£åº“å­˜ï¼Œç”Ÿæˆè®¢å•ã€‚

å¦‚æœç«‹å³å¤„ç†è¿™ä¹ˆå¤šæ“ä½œï¼Œç³»ç»Ÿè‚¯å®šä¼šå¾ˆæ…¢ï¼Œè€Œä¸”è¯·æ±‚é‡å·¨å¤§çš„è¯ï¼Œç³»ç»Ÿå°±ä¼šé¢ä¸´å´©æºƒé£é™©ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡å¦‚ä¸‹æµç¨‹ç«‹å³å“åº”ç”¨æˆ·ï¼š

1. åœ¨ç§’æ€çš„ç³»ç»Ÿä¸­é€šè¿‡ç‰¹å®šæœºåˆ¶å‘Šè¯‰ç”¨æˆ·æŠ¢è´­æˆåŠŸï¼Œ
2. å°†é”å®šåº“å­˜æ¶ˆæ¯å‘é€åˆ°MQï¼Œåº“å­˜ç³»ç»Ÿè¿›è¡Œé”å®šå’Œæ‰£åº“å­˜çš„æ“ä½œï¼Œç„¶åå‘é€æ¶ˆæ¯åˆ°MQã€‚
3. è®¢å•ç³»ç»Ÿå‘ç°æ‰£åº“å­˜æ“ä½œæˆåŠŸï¼Œè¿›è¡Œè®¢å•åˆ›å»ºæ“ä½œï¼Œå®Œæˆåå‘é€æ¶ˆæ¯åˆ°MQ

![rabbitMQç§’æ€åœºæ™¯](https://img-blog.csdnimg.cn/2020120213154150.png)





è¿™é‡Œï¼Œç”¨æˆ·åœ¨å‘èµ·è¯·æ±‚åï¼Œç«‹åˆ»å°±èƒ½çŸ¥é“è‡ªå·±æ˜¯å¦æŠ¢è´­æˆåŠŸã€‚æˆ‘ä»¬é€šè¿‡å¼•å…¥MQï¼Œå°†é”åº“å­˜ï¼Œç”Ÿæˆè®¢å•ï¼Œé€šçŸ¥ç”¨æˆ·æ”¯ä»˜ç­‰æµç¨‹å¼‚æ­¥æ‰§è¡Œã€‚å‡å°‘äº†å¤§é‡ç”¨æˆ·è¯·æ±‚æ—¶çš„å‹åŠ›ã€‚åŒæ—¶ï¼Œå¯ä»¥é€šè¿‡å¢åŠ åº“å­˜ç³»ç»Ÿï¼Œè®¢å•ç³»ç»Ÿï¼Œæ”¯ä»˜ç³»ç»Ÿæ¥å¢åŠ åç»­ä¸šåŠ¡çš„å¤„ç†èƒ½åŠ›ã€‚



## ä½¿ç”¨RabbitMQå¸¦æ¥çš„é—®é¢˜

ä¸Šé¢å…¶å®å·²ç»æåˆ°äº†ä¸€äº›MQå¸¦æ¥çš„é—®é¢˜:

- å¦‚æœç³»ç»Ÿç®€å•ï¼Œå¼•å…¥mqä¼šå¢åŠ ç³»ç»Ÿå¤æ‚åº¦
- ç”±äºmqç‹¬ç«‹éƒ¨ç½²ï¼Œåœ¨ç½‘ç»œä¸ç¨³å®šæƒ…å†µä¸‹ï¼Œå¢åŠ äº†ç³»ç»Ÿæ•…éšœçš„é£é™©ï¼Œå› ä¸ºä¸šåŠ¡æµç¨‹ä¾èµ–mqè¿›è¡Œé€šä¿¡åä½œï¼Œä¸€æ—¦mqæ— æ³•è¿æ¥ï¼Œå°†å¯¼è‡´ç³»ç»Ÿæ— æ³•æ­£å¸¸å¤„ç†ä¸šåŠ¡ã€‚



## æ€»ç»“

ä»»ä½•æŠ€æœ¯éƒ½ä¸èƒ½åšåˆ°ç®€å•è€Œå…¨é¢ï¼Œä¹Ÿæ— æ³•åšåˆ°æœ‰åˆ©æ— å¼Šï¼Œå› æ­¤åœ¨ä½¿ç”¨æŠ€æœ¯çš„æ—¶å€™éœ€è¦è€ƒè™‘å¼•å…¥æŠ€æœ¯ä¼˜åŠ¿çš„åŒæ—¶å¸¦æ¥çš„è´Ÿé¢å› ç´ ï¼Œåé¢ä¼šè®²åˆ°ä¸€äº›å…³äºmqä½¿ç”¨ä¸­å¸¸è§çš„é—®é¢˜ï¼Œå¦‚ï¼šæ¶ˆæ¯å¯é æ€§æŠ•é€’ï¼Œä»¥ä¾¿æ›´å¥½åœ°ä½¿ç”¨mqã€‚

----

> æ–‡ç« å¯ä»¥ç™½å«–ï¼Œè€é“ä»¬é¡ºä¾¿å…³æ³¨ä¸€ä¸‹æˆ‘çš„å…¬ä¼—å·ï¼Œæ‰‹åŠ¨æ»‘ç¨½ğŸ¤£ğŸ¤£ &nbsp;
>
> æ¬¢è¿å¤§å®¶å…³æ³¨ï¼š**æ­¦å“¥èŠç¼–ç¨‹**ã€**Javaå¼€å‘å®å…¸**ã€**Javaç§ƒå¤´å“¥**ï¼Œæ‚¨çš„æ”¯æŒï¼Œæ˜¯æˆ‘åˆ›ä½œçš„æŒç»­åŠ¨åŠ›ï¼&nbsp;&nbsp;

![æ­¦å“¥èŠç¼–ç¨‹](https://img-blog.csdnimg.cn/202002150421550.jpg)![Javaå¼€å‘å®å…¸](https://img-blog.csdnimg.cn/20200608005630228.png)![Javaç§ƒå¤´å“¥](https://img-blog.csdnimg.cn/20201025170941235.png)