> æ–‡ç« å¯ä»¥ç™½å«–ï¼Œè€é“ä»¬é¡ºä¾¿å…³æ³¨ä¸€ä¸‹æˆ‘çš„å…¬ä¼—å·ï¼Œæ‰‹åŠ¨æ»‘ç¨½ğŸ¤£ğŸ¤£ &nbsp;
>
> æ¬¢è¿å¤§å®¶å…³æ³¨ï¼š**æ­¦å“¥èŠç¼–ç¨‹**ã€**Javaå¼€å‘å®å…¸**ã€**Javaç§ƒå¤´å“¥**ï¼Œæ‚¨çš„æ”¯æŒï¼Œæ˜¯æˆ‘åˆ›ä½œçš„æŒç»­åŠ¨åŠ›ï¼&nbsp;&nbsp;

![æ­¦å“¥èŠç¼–ç¨‹](https://img-blog.csdnimg.cn/202002150421550.jpg)![Javaå¼€å‘å®å…¸](https://img-blog.csdnimg.cn/20200608005630228.png)![Javaç§ƒå¤´å“¥](https://img-blog.csdnimg.cn/20201025170941235.png)

----

## ä¸€. æ³›å‹çš„æå‡ºï¼Ÿ
- æ³›å‹å®è´¨ä¸Šå°±æ˜¯æ˜¯ç¨‹åºå‘˜å®šä¹‰å®‰å…¨çš„ç±»å‹ã€‚åœ¨æ²¡æœ‰å‡ºç°æ³›å‹ä¹‹å‰ï¼ŒJavaæä¾›äº†å¯¹Objectçš„å¼•ç”¨â€œä»»æ„åŒ–â€æ“ä½œï¼Œè¿™ç§â€œä»»æ„åŒ–â€æ“ä½œå°±æ˜¯å¯¹Objectå¼•ç”¨è¿›è¡Œå‘ä¸‹è½¬å‹åŠå‘ä¸Šè½¬å‹æ“ä½œï¼Œä½†æŸäº›å¼ºåˆ¶ç±»å‹è½¬æ¢çš„é”™è¯¯ä¹Ÿè®¸ä¸ä¼šè¢«ç¼–è¯‘å™¨æ•æ‰ï¼Œè€Œåœ¨è¿è¡Œåå‡ºç°å¼‚å¸¸ï¼Œå¯å‰å®‰å¼ºåˆ¶ç±»å‹è½¬æ¢å­˜åœ¨å®‰å…¨éšæ‚£ï¼Œæ‰€ä»¥åœ¨æ­¤æä¾›äº†æ³›å‹æœºåˆ¶ã€‚
- æ³›å‹çš„æœ¬è´¨æ˜¯ä¸ºäº†å‚æ•°åŒ–ç±»å‹ï¼ˆåœ¨ä¸åˆ›å»ºæ–°çš„ç±»å‹çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡æ³›å‹æŒ‡å®šçš„ä¸åŒç±»å‹æ¥æ§åˆ¶å½¢å‚å…·ä½“é™åˆ¶çš„ç±»å‹ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨æ³›å‹ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæ“ä½œçš„æ•°æ®ç±»å‹è¢«æŒ‡å®šä¸ºä¸€ä¸ªå‚æ•°ï¼Œè¿™ç§å‚æ•°ç±»å‹å¯ä»¥ç”¨åœ¨ç±»ã€æ¥å£å’Œæ–¹æ³•ä¸­ï¼Œåˆ†åˆ«è¢«ç§°ä¸ºæ³›å‹ç±»ã€æ³›å‹æ¥å£ã€æ³›å‹æ–¹æ³•ã€‚

è¯´å†å¤šä¸å¦‚ä¸¾äº†ä¾‹å­æ¥å¸®åŠ©å¤§å®¶ç†è§£ï¼š
```
List arrayList = new ArrayList();
arrayList.add("aaaa");
arrayList.add(100);

for(int i = 0; i< arrayList.size();i++){
    String item = (String)arrayList.get(i);
    Log.d("æ³›å‹æµ‹è¯•","item = " + item);
}
```

è¿™æ ·çš„ä»£ç è¿è¡Œçš„æœ€ç»ˆç»“æœå¿…ç„¶æ˜¯ä¼šå´©æºƒçš„ï¼š
```
java.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.String
```
ArrayListå¯ä»¥å­˜æ”¾ä»»æ„ç±»å‹ï¼Œä¾‹å­ä¸­æ·»åŠ äº†ä¸€ä¸ªStringç±»å‹ï¼Œæ·»åŠ äº†ä¸€ä¸ªIntegerç±»å‹ï¼Œå†ä½¿ç”¨æ—¶éƒ½ä»¥Stringçš„æ–¹å¼ä½¿ç”¨ï¼Œå› æ­¤ç¨‹åºå´©æºƒäº†ã€‚ä¸ºäº†è§£å†³ç±»ä¼¼è¿™æ ·çš„é—®é¢˜ï¼ˆåœ¨ç¼–è¯‘é˜¶æ®µå°±å¯ä»¥è§£å†³ï¼‰ï¼Œæ³›å‹åº”è¿è€Œç”Ÿã€‚
æˆ‘ä»¬å°†ç¬¬ä¸€è¡Œå£°æ˜åˆå§‹åŒ–listçš„ä»£ç æ›´æ”¹ä¸€ä¸‹ï¼Œç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘é˜¶æ®µå°±èƒ½å¤Ÿå¸®æˆ‘ä»¬å‘ç°ç±»ä¼¼è¿™æ ·çš„é—®é¢˜ã€‚
```
List<String> arrayList = new ArrayList<String>();
...
//arrayList.add(100); åœ¨ç¼–è¯‘é˜¶æ®µï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™
```
**é‚£ä¹ˆæœ‰æ²¡æœ‰ä»€ä¹ˆåŠæ³•å¯ä»¥ä½¿é›†åˆèƒ½å¤Ÿè®°ä½é›†åˆå†…å…ƒç´ å„ç±»å‹ï¼Œä¸”èƒ½å¤Ÿè¾¾åˆ°åªè¦ç¼–è¯‘æ—¶ä¸å‡ºç°é—®é¢˜ï¼Œè¿è¡Œæ—¶å°±ä¸ä¼šå‡ºç°â€œjava.lang.ClassCastExceptionâ€å¼‚å¸¸å‘¢ï¼Ÿç­”æ¡ˆå°±æ˜¯ä½¿ç”¨æ³›å‹ã€‚**

## äºŒ.å¸¸ç”¨çš„æ³›å‹ç±»å‹å˜é‡

**E**ï¼šå…ƒç´ ï¼ˆElementï¼‰ï¼Œå¤šç”¨äºjavaé›†åˆæ¡†æ¶ã€‚

**K**ï¼šå…³é”®å­—ï¼ˆKeyï¼‰ã€‚

**N**ï¼šæ•°å­—ï¼ˆNumberï¼‰ã€‚

**T**ï¼šç±»å‹ï¼ˆTypeï¼‰ã€‚

**V**ï¼šå€¼ï¼ˆValueï¼‰ã€‚


### 
## ä¸‰.æ³›å‹çš„ä½¿ç”¨

æ³›å‹æœ‰ä¸‰ç§ä½¿ç”¨æ–¹å¼ï¼Œåˆ†åˆ«ä¸ºï¼š
- æ³›å‹ç±»
- æ³›å‹æ¥å£
- æ³›å‹æ–¹æ³•

### 3.1 æ³›å‹ç±»

æ³›å‹ç±»å‹ç”¨äºç±»çš„å®šä¹‰ä¸­ï¼Œè¢«ç§°ä¸ºæ³›å‹ç±»ã€‚é€šè¿‡æ³›å‹å¯ä»¥å®Œæˆå¯¹ä¸€ç»„ç±»çš„æ“ä½œå¯¹å¤–å¼€æ”¾ç›¸åŒçš„æ¥å£ã€‚æœ€å…¸å‹çš„å°±æ˜¯å„ç§å®¹å™¨ç±»ï¼Œå¦‚ï¼šListã€Setã€Mapã€‚

å®šä¹‰ä¸€ä¸ªæ³›å‹ç±»ï¼š
```
class ç±»åç§° <æ³›å‹æ ‡è¯†ï¼šå¯ä»¥éšä¾¿å†™ä»»æ„æ ‡è¯†å·ï¼Œæ ‡è¯†æŒ‡å®šçš„æ³›å‹çš„ç±»å‹>{
  private æ³›å‹æ ‡è¯† /*ï¼ˆæˆå‘˜å˜é‡ç±»å‹ï¼‰*/ var; 
  .....

  }
}
```
å°†æ¡ˆä¾‹å…·ä½“åŒ–ï¼š
```
public class Generic<T>{ 
    //keyè¿™ä¸ªæˆå‘˜å˜é‡çš„ç±»å‹ä¸ºT,Tçš„ç±»å‹ç”±å¤–éƒ¨æŒ‡å®š  
    private T key;

    public Generic(T key) { //æ³›å‹æ„é€ æ–¹æ³•å½¢å‚keyçš„ç±»å‹ä¹Ÿä¸ºTï¼ŒTçš„ç±»å‹ç”±å¤–éƒ¨æŒ‡å®š
        this.key = key;
    }

    public T getKey(){ //æ³›å‹æ–¹æ³•getKeyçš„è¿”å›å€¼ç±»å‹ä¸ºTï¼ŒTçš„ç±»å‹ç”±å¤–éƒ¨æŒ‡å®š
        return key;
    }
}
//æ³›å‹çš„ç±»å‹å‚æ•°åªèƒ½æ˜¯ç±»ç±»å‹ï¼ˆåŒ…æ‹¬è‡ªå®šä¹‰ç±»ï¼‰ï¼Œä¸èƒ½æ˜¯ç®€å•ç±»å‹
//ä¼ å…¥çš„å®å‚ç±»å‹éœ€ä¸æ³›å‹çš„ç±»å‹å‚æ•°ç±»å‹ç›¸åŒï¼Œå³ä¸ºInteger.
Generic<Integer> genericInteger = new Generic<Integer>(123456);

//ä¼ å…¥çš„å®å‚ç±»å‹éœ€ä¸æ³›å‹çš„ç±»å‹å‚æ•°ç±»å‹ç›¸åŒï¼Œå³ä¸ºString.
Generic<String> genericString = new Generic<String>("key_vlaue");
Log.d("æ³›å‹æµ‹è¯•","key is " + genericInteger.getKey());
Log.d("æ³›å‹æµ‹è¯•","key is " + genericString.getKey());
```
æµ‹è¯•ç»“æœï¼š
```
12-27 09:20:04.432 13063-13063/? D/æ³›å‹æµ‹è¯•: key is 123456
12-27 09:20:04.432 13063-13063/? D/æ³›å‹æµ‹è¯•: key is key_vlaue
```
å®šä¹‰çš„æ³›å‹ç±»å¹¶ä¸æ˜¯ä¸€å®šè¦ä¼ å…¥æ³›å‹ç±»å‹å®å‚ã€‚åœ¨ä½¿ç”¨æ³›å‹çš„æ—¶å€™å¦‚æœä¼ å…¥æ³›å‹å®å‚ï¼Œåˆ™ä¼šæ ¹æ®ä¼ å…¥çš„æ³›å‹å®å‚åšç›¸åº”çš„é™åˆ¶ï¼Œæ­¤æ—¶æ³›å‹æ‰ä¼šèµ·åˆ°æœ¬åº”èµ·åˆ°çš„é™åˆ¶ä½œç”¨ã€‚å¦‚æœä¸ä¼ å…¥æ³›å‹ç±»å‹å®å‚çš„è¯ï¼Œåœ¨æ³›å‹ç±»ä¸­ä½¿ç”¨æ³›å‹çš„æ–¹æ³•æˆ–æˆå‘˜å˜é‡å®šä¹‰çš„ç±»å‹å¯ä»¥ä¸ºä»»ä½•çš„ç±»å‹ã€‚

å†ä¸¾ä¸€ä¸ªä¾‹å­ï¼š
```
Generic generic = new Generic("111111");
Generic generic1 = new Generic(4444);
Generic generic2 = new Generic(55.55);
Generic generic3 = new Generic(false);

Log.d("æ³›å‹æµ‹è¯•","key is " + generic.getKey());
Log.d("æ³›å‹æµ‹è¯•","key is " + generic1.getKey());
Log.d("æ³›å‹æµ‹è¯•","key is " + generic2.getKey());
Log.d("æ³›å‹æµ‹è¯•","key is " + generic3.getKey());
```
è¿è¡Œç»“æœï¼š
```
D/æ³›å‹æµ‹è¯•: key is 111111
D/æ³›å‹æµ‹è¯•: key is 4444
D/æ³›å‹æµ‹è¯•: key is 55.55
D/æ³›å‹æµ‹è¯•: key is false
```
å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š

1. æ³›å‹çš„ç±»å‹å‚æ•°åªèƒ½æ˜¯ç±»ç±»å‹ï¼Œä¸èƒ½æ˜¯ç®€å•ç±»å‹ã€‚
2. ä¸èƒ½å¯¹ç¡®åˆ‡çš„æ³›å‹ç±»å‹ä½¿ç”¨instanceofæ“ä½œã€‚å¦‚ä¸‹é¢çš„æ“ä½œæ˜¯éæ³•çš„ï¼Œç¼–è¯‘æ—¶ä¼šå‡ºé”™ã€‚
```
if(ex_num instanceof Generic<Number>){ }
```
### 3.2 æ³›å‹æ¥å£

å®šä¹‰ä¸€ä¸ªæ³›å‹æ¥å£ï¼špublic interface GenericIntercace<T>{}
```
public interface GenericIntercace<T> {
     T getData();
}
```
å®ç°æ³›å‹æ¥å£æ–¹å¼ä¸€ï¼špublic class ImplGenericInterface1<T> implements GenericIntercace<T>
```
public class ImplGenericInterface1<T> implements GenericIntercace<T> {
    private T data;

    private void setData(T data) {
        this.data = data;
    }

    @Override
    public T getData() {
        return data;
    }

    public static void main(String[] args) {
        ImplGenericInterface1<String> implGenericInterface1 = new ImplGenericInterface1<>();
        implGenericInterface1.setData("Generic Interface1");
        System.out.println(implGenericInterface1.getData());
    }
}
```
å®ç°æ³›å‹æ¥å£æ–¹å¼äºŒï¼špublic class ImplGenericInterface2 implements GenericIntercace<String> {}
```
public class ImplGenericInterface2 implements GenericIntercace<String> {
    @Override
    public String getData() {
        return "Generic Interface2";
    }

    public static void main(String[] args) {
        ImplGenericInterface2 implGenericInterface2 = new ImplGenericInterface2();
        System.out.println(implGenericInterface2.getData());
    }
}
```


### 3.3 æ³›å‹æ–¹æ³•
æ³›å‹æ–¹æ³•æ˜¯åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™æŒ‡æ˜æ³›å‹çš„å…·ä½“ç±»å‹ ã€‚
```
/**
 * æ³›å‹æ–¹æ³•çš„åŸºæœ¬ä»‹ç»
 * @param tClass ä¼ å…¥çš„æ³›å‹å®å‚
 * @return T è¿”å›å€¼ä¸ºTç±»å‹
 * è¯´æ˜ï¼š
 *     1ï¼‰public ä¸ è¿”å›å€¼ä¸­é—´<T>éå¸¸é‡è¦ï¼Œå¯ä»¥ç†è§£ä¸ºå£°æ˜æ­¤æ–¹æ³•ä¸ºæ³›å‹æ–¹æ³•ã€‚
 *     2ï¼‰åªæœ‰å£°æ˜äº†<T>çš„æ–¹æ³•æ‰æ˜¯æ³›å‹æ–¹æ³•ï¼Œæ³›å‹ç±»ä¸­çš„ä½¿ç”¨äº†æ³›å‹çš„æˆå‘˜æ–¹æ³•å¹¶ä¸æ˜¯æ³›å‹æ–¹æ³•ã€‚
 *     3ï¼‰<T>è¡¨æ˜è¯¥æ–¹æ³•å°†ä½¿ç”¨æ³›å‹ç±»å‹Tï¼Œæ­¤æ—¶æ‰å¯ä»¥åœ¨æ–¹æ³•ä¸­ä½¿ç”¨æ³›å‹ç±»å‹Tã€‚
 *     4ï¼‰ä¸æ³›å‹ç±»çš„å®šä¹‰ä¸€æ ·ï¼Œæ­¤å¤„Tå¯ä»¥éšä¾¿å†™ä¸ºä»»æ„æ ‡è¯†ï¼Œå¸¸è§çš„å¦‚Tã€Eã€Kã€Vç­‰å½¢å¼çš„å‚æ•°å¸¸ç”¨äºè¡¨ç¤ºæ³›å‹ã€‚
 */
public <T> T genericMethod(Class<T> tClass)throws InstantiationException ,
  IllegalAccessException{
        T instance = tClass.newInstance();
        return instance;
}
```
```
Object obj = genericMethod(Class.forName("com.test.test"));
```
#### 3.3.1 æ³›å‹æ–¹æ³•çš„åŸºæœ¬ç”¨æ³•
```
public class GenericTest {
   //è¿™ä¸ªç±»æ˜¯ä¸ªæ³›å‹ç±»ï¼Œåœ¨ä¸Šé¢å·²ç»ä»‹ç»è¿‡
   public class Generic<T>{     
        private T key;

        public Generic(T key) {
            this.key = key;
        }

        //æˆ‘æƒ³è¯´çš„å…¶å®æ˜¯è¿™ä¸ªï¼Œè™½ç„¶åœ¨æ–¹æ³•ä¸­ä½¿ç”¨äº†æ³›å‹ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªæ³›å‹æ–¹æ³•ã€‚
        //è¿™åªæ˜¯ç±»ä¸­ä¸€ä¸ªæ™®é€šçš„æˆå‘˜æ–¹æ³•ï¼Œåªä¸è¿‡ä»–çš„è¿”å›å€¼æ˜¯åœ¨å£°æ˜æ³›å‹ç±»å·²ç»å£°æ˜è¿‡çš„æ³›å‹ã€‚
        //æ‰€ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä¸­æ‰å¯ä»¥ç»§ç»­ä½¿ç”¨ T è¿™ä¸ªæ³›å‹ã€‚
        public T getKey(){
            return key;
        }

        /**
         * è¿™ä¸ªæ–¹æ³•æ˜¾ç„¶æ˜¯æœ‰é—®é¢˜çš„ï¼Œåœ¨ç¼–è¯‘å™¨ä¼šç»™æˆ‘ä»¬æç¤ºè¿™æ ·çš„é”™è¯¯ä¿¡æ¯"cannot reslove symbol E"
         * å› ä¸ºåœ¨ç±»çš„å£°æ˜ä¸­å¹¶æœªå£°æ˜æ³›å‹Eï¼Œæ‰€ä»¥åœ¨ä½¿ç”¨Eåšå½¢å‚å’Œè¿”å›å€¼ç±»å‹æ—¶ï¼Œç¼–è¯‘å™¨ä¼šæ— æ³•è¯†åˆ«ã€‚
        public E setKey(E key){
             this.key = keu
        }
        */
    }

    /** 
     * è¿™æ‰æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ³›å‹æ–¹æ³•ã€‚
     * é¦–å…ˆåœ¨publicä¸è¿”å›å€¼ä¹‹é—´çš„<T>å¿…ä¸å¯å°‘ï¼Œè¿™è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œå¹¶ä¸”å£°æ˜äº†ä¸€ä¸ªæ³›å‹T
     * è¿™ä¸ªTå¯ä»¥å‡ºç°åœ¨è¿™ä¸ªæ³›å‹æ–¹æ³•çš„ä»»æ„ä½ç½®.
     * æ³›å‹çš„æ•°é‡ä¹Ÿå¯ä»¥ä¸ºä»»æ„å¤šä¸ª 
     *    å¦‚ï¼špublic <T,K> K showKeyName(Generic<T> container){
     *        ...
     *        }
     */
    public <T> T showKeyName(Generic<T> container){
        System.out.println("container key :" + container.getKey());
        //å½“ç„¶è¿™ä¸ªä¾‹å­ä¸¾çš„ä¸å¤ªåˆé€‚ï¼Œåªæ˜¯ä¸ºäº†è¯´æ˜æ³›å‹æ–¹æ³•çš„ç‰¹æ€§ã€‚
        T test = container.getKey();
        return test;
    }

    //è¿™ä¹Ÿä¸æ˜¯ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„æ–¹æ³•ï¼Œåªæ˜¯ä½¿ç”¨äº†Generic<Number>è¿™ä¸ªæ³›å‹ç±»åšå½¢å‚è€Œå·²ã€‚
    public void showKeyValue1(Generic<Number> obj){
        Log.d("æ³›å‹æµ‹è¯•","key value is " + obj.getKey());
    }

    //è¿™ä¹Ÿä¸æ˜¯ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªæ™®é€šçš„æ–¹æ³•ï¼Œåªä¸è¿‡ä½¿ç”¨äº†æ³›å‹é€šé…ç¬¦?
    //åŒæ—¶è¿™ä¹Ÿå°è¯äº†æ³›å‹é€šé…ç¬¦ç« èŠ‚æ‰€æè¿°çš„ï¼Œ?æ˜¯ä¸€ç§ç±»å‹å®å‚ï¼Œå¯ä»¥çœ‹åšä¸ºNumberç­‰æ‰€æœ‰ç±»çš„çˆ¶ç±»
    public void showKeyValue2(Generic<?> obj){
        Log.d("æ³›å‹æµ‹è¯•","key value is " + obj.getKey());
    }

     /**
     * è¿™ä¸ªæ–¹æ³•æ˜¯æœ‰é—®é¢˜çš„ï¼Œç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬æç¤ºé”™è¯¯ä¿¡æ¯ï¼š"UnKnown class 'E' "
     * è™½ç„¶æˆ‘ä»¬å£°æ˜äº†<T>,ä¹Ÿè¡¨æ˜äº†è¿™æ˜¯ä¸€ä¸ªå¯ä»¥å¤„ç†æ³›å‹çš„ç±»å‹çš„æ³›å‹æ–¹æ³•ã€‚
     * ä½†æ˜¯åªå£°æ˜äº†æ³›å‹ç±»å‹Tï¼Œå¹¶æœªå£°æ˜æ³›å‹ç±»å‹Eï¼Œå› æ­¤ç¼–è¯‘å™¨å¹¶ä¸çŸ¥é“è¯¥å¦‚ä½•å¤„ç†Eè¿™ä¸ªç±»å‹ã€‚
    public <T> T showKeyName(Generic<E> container){
        ...
    }  
    */

    /**
     * è¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯æœ‰é—®é¢˜çš„ï¼Œç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬æç¤ºé”™è¯¯ä¿¡æ¯ï¼š"UnKnown class 'T' "
     * å¯¹äºç¼–è¯‘å™¨æ¥è¯´Tè¿™ä¸ªç±»å‹å¹¶æœªé¡¹ç›®ä¸­å£°æ˜è¿‡ï¼Œå› æ­¤ç¼–è¯‘ä¹Ÿä¸çŸ¥é“è¯¥å¦‚ä½•ç¼–è¯‘è¿™ä¸ªç±»ã€‚
     * æ‰€ä»¥è¿™ä¹Ÿä¸æ˜¯ä¸€ä¸ªæ­£ç¡®çš„æ³›å‹æ–¹æ³•å£°æ˜ã€‚
    public void showkey(T genericObj){
    }
    */
    public static void main(String[] args) {
    }
}
```

#### 3.3.2 ç±»ä¸­çš„æ³›å‹æ–¹æ³•
å½“ç„¶è¿™å¹¶ä¸æ˜¯æ³›å‹æ–¹æ³•çš„å…¨éƒ¨ï¼Œæ³›å‹æ–¹æ³•å¯ä»¥å‡ºç°æ‚ä»»ä½•åœ°æ–¹å’Œä»»ä½•åœºæ™¯ä¸­ä½¿ç”¨ã€‚ä½†æ˜¯æœ‰ä¸€ç§æƒ…å†µæ˜¯éå¸¸ç‰¹æ®Šçš„ï¼Œå½“æ³›å‹æ–¹æ³•å‡ºç°åœ¨æ³›å‹ç±»ä¸­æ—¶ï¼Œæˆ‘ä»¬å†é€šè¿‡ä¸€ä¸ªä¾‹å­çœ‹ä¸€ä¸‹
```
public class GenericFruit {
    class Fruit{
        @Override
        public String toString() {
            return "fruit";
        }
    }

    class Apple extends Fruit{
        @Override
        public String toString() {
            return "apple";
        }
    }

    class Person{
        @Override
        public String toString() {
            return "Person";
        }
    }

    class GenerateTest<T>{
        public void show_1(T t){
            System.out.println(t.toString());
        }

        //åœ¨æ³›å‹ç±»ä¸­å£°æ˜äº†ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œä½¿ç”¨æ³›å‹Eï¼Œè¿™ç§æ³›å‹Eå¯ä»¥ä¸ºä»»æ„ç±»å‹ã€‚å¯ä»¥ç±»å‹ä¸Tç›¸åŒï¼Œä¹Ÿå¯ä»¥ä¸åŒã€‚
        //ç”±äºæ³›å‹æ–¹æ³•åœ¨å£°æ˜çš„æ—¶å€™ä¼šå£°æ˜æ³›å‹<E>ï¼Œå› æ­¤å³ä½¿åœ¨æ³›å‹ç±»ä¸­å¹¶æœªå£°æ˜æ³›å‹ï¼Œç¼–è¯‘å™¨ä¹Ÿèƒ½å¤Ÿæ­£ç¡®è¯†åˆ«æ³›å‹æ–¹æ³•ä¸­è¯†åˆ«çš„æ³›å‹ã€‚
        public <E> void show_3(E t){
            System.out.println(t.toString());
        }

        //åœ¨æ³›å‹ç±»ä¸­å£°æ˜äº†ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œä½¿ç”¨æ³›å‹Tï¼Œæ³¨æ„è¿™ä¸ªTæ˜¯ä¸€ç§å…¨æ–°çš„ç±»å‹ï¼Œå¯ä»¥ä¸æ³›å‹ç±»ä¸­å£°æ˜çš„Tä¸æ˜¯åŒä¸€ç§ç±»å‹ã€‚
        public <T> void show_2(T t){
            System.out.println(t.toString());
        }
    }

    public static void main(String[] args) {
        Apple apple = new Apple();
        Person person = new Person();

        GenerateTest<Fruit> generateTest = new GenerateTest<Fruit>();
        //appleæ˜¯Fruitçš„å­ç±»ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥
        generateTest.show_1(apple);
        //ç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼Œå› ä¸ºæ³›å‹ç±»å‹å®å‚æŒ‡å®šçš„æ˜¯Fruitï¼Œè€Œä¼ å…¥çš„å®å‚ç±»æ˜¯Person
        //generateTest.show_1(person);

        //ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•éƒ½å¯ä»¥æˆåŠŸ
        generateTest.show_2(apple);
        generateTest.show_2(person);

        //ä½¿ç”¨è¿™ä¸¤ä¸ªæ–¹æ³•ä¹Ÿéƒ½å¯ä»¥æˆåŠŸ
        generateTest.show_3(apple);
        generateTest.show_3(person);
    }
}
```

#### 3.3.3 é™æ€æ–¹æ³•ä¸æ³›å‹
é™æ€æ–¹æ³•æœ‰ä¸€ç§æƒ…å†µéœ€è¦æ³¨æ„ä¸€ä¸‹ï¼Œé‚£å°±æ˜¯åœ¨ç±»ä¸­çš„é™æ€æ–¹æ³•ä½¿ç”¨æ³›å‹ï¼šé™æ€æ–¹æ³•æ— æ³•è®¿é—®ç±»ä¸Šå®šä¹‰çš„æ³›å‹ï¼›å¦‚æœé™æ€æ–¹æ³•æ“ä½œçš„å¼•ç”¨æ•°æ®ç±»å‹ä¸ç¡®å®šçš„æ—¶å€™ï¼Œå¿…é¡»è¦å°†æ³›å‹å®šä¹‰åœ¨æ–¹æ³•ä¸Šã€‚

å³ï¼šå¦‚æœé™æ€æ–¹æ³•è¦ä½¿ç”¨æ³›å‹çš„è¯ï¼Œå¿…é¡»å°†é™æ€æ–¹æ³•ä¹Ÿå®šä¹‰æˆæ³›å‹æ–¹æ³• ã€‚

```
public class StaticGenerator<T> {
    ....
    ....
    /**
     * å¦‚æœåœ¨ç±»ä¸­å®šä¹‰ä½¿ç”¨æ³›å‹çš„é™æ€æ–¹æ³•ï¼Œéœ€è¦æ·»åŠ é¢å¤–çš„æ³›å‹å£°æ˜ï¼ˆå°†è¿™ä¸ªæ–¹æ³•å®šä¹‰æˆæ³›å‹æ–¹æ³•ï¼‰
     * å³ä½¿é™æ€æ–¹æ³•è¦ä½¿ç”¨æ³›å‹ç±»ä¸­å·²ç»å£°æ˜è¿‡çš„æ³›å‹ä¹Ÿä¸å¯ä»¥ã€‚
     * å¦‚ï¼špublic static void show(T t){..},æ­¤æ—¶ç¼–è¯‘å™¨ä¼šæç¤ºé”™è¯¯ä¿¡æ¯ï¼š
          "StaticGenerator cannot be refrenced from static context"
     */
    public static <T> void show(T t){

    }
}
```

è‡³æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œåœ¨ä½¿ç”¨æ³›å‹ç±»æ—¶ï¼Œè™½ç„¶æœ‰ä¸åŒçš„æ³›å‹å®å‚ä¼ å…¥ï¼Œä½†å¹¶æ²¡æœ‰çœŸæ­£æ„ä¹‰ä¸Šç”Ÿæˆä¸åŒçš„ç±»å‹ï¼Œä¸åŒæ³›å‹å®å‚çš„æ³›å‹ç±»ä¼ å…¥å†…å­˜å¹¶åªæœ‰ä¸€ä¸ªï¼Œå³è¿˜æ˜¯åŸæ¥çš„æœ€åŸºæœ¬çš„ç±»å‹ï¼Œå½“ç„¶ï¼Œåœ¨é€»è¾‘ä¸Šæˆ‘ä»¬å¯ä»¥ç†è§£æˆå¤šä¸ªä¸åŒçš„æ³›å‹ç±»å‹ã€‚

ç»†æƒ³åŸå› ï¼Œåœ¨äºJavaä¸­çš„æ³›å‹è¿™ä¸€æ¦‚å¿µæå‡ºçš„ç›®çš„ï¼Œå¯¼è‡´å…¶åªæ˜¯ä½œç”¨äºä»£ç ç¼–è¯‘é˜¶æ®µï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œå¯¹äºæ­£ç¡®æ£€éªŒæ³›å‹ç»“æœåï¼Œä¼šå°†æ³›å‹çš„ç›¸å…³ä¿¡æ¯æ“¦å‡ºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæˆåŠŸç¼–è¯‘è¿‡åçš„classæ–‡ä»¶ä¸­æ˜¯ä¸åŒ…å«ä»»ä½•æ³›å‹ä¿¡æ¯çš„ã€‚æ³›å‹ä¿¡æ¯ä¸ä¼šè¿›å…¥åˆ°è¿è¡Œæ—¶é˜¶æ®µã€‚

æ€»ç»“ä¸€ä¸‹ï¼šæ³›å‹ç±»å‹åœ¨é€»è¾‘ä¸Šçœ‹ä»¥çœ‹æˆæ˜¯å¤šä¸ªä¸åŒçš„ç±»å‹ï¼Œå®é™…ä¸Šéƒ½æ˜¯ç›¸åŒçš„åŸºæœ¬ç±»å‹ã€‚

## å››.æ³›å‹é€šé…ç¬¦
æˆ‘ä»¬çŸ¥é“Ingeteræ˜¯Numberçš„ä¸€ä¸ªå­ç±»ï¼ŒåŒæ—¶åœ¨ç‰¹æ€§ç« èŠ‚ä¸­æˆ‘ä»¬ä¹ŸéªŒè¯è¿‡Generic<Ingeter>ä¸Generic<Number>å®é™…ä¸Šæ˜¯ç›¸åŒçš„ä¸€ç§åŸºæœ¬ç±»å‹ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œåœ¨ä½¿ç”¨Generic<Number>ä½œä¸ºå½¢å‚çš„æ–¹æ³•ä¸­ï¼Œèƒ½å¦ä½¿ç”¨Generic<Ingeter>çš„å®ä¾‹ä¼ å…¥å‘¢ï¼Ÿåœ¨é€»è¾‘ä¸Šç±»ä¼¼äºGeneric<Number>å’ŒGeneric<Ingeter>æ˜¯å¦å¯ä»¥çœ‹æˆå…·æœ‰çˆ¶å­å…³ç³»çš„æ³›å‹ç±»å‹å‘¢ï¼Ÿ

å¼„æ¸…æ¥šè¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨Generic<T>è¿™ä¸ªæ³›å‹ç±»ç»§ç»­çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š
```
public void showKeyValue1(Generic<Number> obj){
    Log.d("æ³›å‹æµ‹è¯•","key value is " + obj.getKey());
}
```
```
Generic<Integer> gInteger = new Generic<Integer>(123);
Generic<Number> gNumber = new Generic<Number>(456);

showKeyValue(gNumber);

// showKeyValueè¿™ä¸ªæ–¹æ³•ç¼–è¯‘å™¨ä¼šä¸ºæˆ‘ä»¬æŠ¥é”™ï¼šGeneric<java.lang.Integer> 
// cannot be applied to Generic<java.lang.Number>
// showKeyValue(gInteger);
```

åœ¨æç¤ºä¿¡æ¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°Generic<Integer>ä¸èƒ½è¢«çœ‹ä½œä¸º`Generic<Number>çš„å­ç±»ã€‚

ç”±æ­¤å¯ä»¥çœ‹å‡º:åŒä¸€ç§æ³›å‹å¯ä»¥å¯¹åº”å¤šä¸ªç‰ˆæœ¬ï¼ˆå› ä¸ºå‚æ•°ç±»å‹æ˜¯ä¸ç¡®å®šçš„ï¼‰ï¼Œä¸åŒç‰ˆæœ¬çš„æ³›å‹ç±»å®ä¾‹æ˜¯ä¸å…¼å®¹çš„ã€‚

å†å›åˆ°ä¸Šé¢çš„ä¾‹å­ï¼Œé‚£ä¹ˆç©¶ç«Ÿå¦‚ä½•è§£å†³ä¸Šé¢çš„é—®é¢˜å‘¢ï¼Ÿ

æˆ–è®¸æˆ‘ä»¬éœ€è¦ä¸€ä¸ªåœ¨é€»è¾‘ä¸Šå¯ä»¥è¡¨ç¤ºåŒæ—¶æ˜¯Generic<Integer>å’ŒGeneric<Number>çˆ¶ç±»çš„å¼•ç”¨ç±»å‹ã€‚è‡³æ­¤ç±»å‹é€šé…ç¬¦åº”è¿è€Œç”Ÿã€‚

æˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„æ–¹æ³•æ”¹ä¸€ä¸‹ï¼š
```
public void showKeyValue1(Generic<?> obj){
    Log.d("æ³›å‹æµ‹è¯•","key value is " + obj.getKey());
}
```
ç±»å‹é€šé…ç¬¦ä¸€èˆ¬æ˜¯ä½¿ç”¨ ï¼Ÿ ä»£æ›¿å…·ä½“çš„ç±»å‹å®å‚ï¼Œæ³¨æ„äº†ï¼Œæ­¤å¤„ ï¼Ÿ æ˜¯ç±»å‹å®å‚ï¼Œè€Œä¸æ˜¯ç±»å‹å½¢å‚ ã€‚

è¦è¯´ä¸‰éï¼

æ­¤å¤„ ï¼Ÿ æ˜¯ç±»å‹å®å‚ï¼Œè€Œä¸æ˜¯ç±»å‹å½¢å‚ï¼ 

æ­¤å¤„ ï¼Ÿ æ˜¯ç±»å‹å®å‚ï¼Œè€Œä¸æ˜¯ç±»å‹å½¢å‚ï¼

å†ç›´ç™½ç‚¹çš„æ„æ€å°±æ˜¯ï¼Œæ­¤å¤„çš„ï¼Ÿå’ŒNumberã€Stringã€Integerä¸€æ ·éƒ½æ˜¯ä¸€ç§å®é™…çš„ç±»å‹ï¼Œå¯ä»¥æŠŠï¼Ÿçœ‹æˆæ‰€æœ‰ç±»å‹çš„çˆ¶ç±»ã€‚æ˜¯ä¸€ç§çœŸå®çš„ç±»å‹ã€‚

å¯ä»¥è§£å†³å½“å…·ä½“ç±»å‹ä¸ç¡®å®šçš„æ—¶å€™ï¼Œè¿™ä¸ªé€šé…ç¬¦å°±æ˜¯ ? ã€‚

å½“æ“ä½œç±»å‹æ—¶ï¼Œä¸éœ€è¦ä½¿ç”¨ç±»å‹çš„å…·ä½“åŠŸèƒ½æ—¶ï¼Œåªä½¿ç”¨Objectç±»ä¸­çš„åŠŸèƒ½ã€‚é‚£ä¹ˆå¯ä»¥ç”¨ ? é€šé…ç¬¦æ¥è¡¨æœªçŸ¥ç±»å‹ã€‚

## äº”.æ³›å‹ä¸Šä¸‹è¾¹ç•Œ
åœ¨ä½¿ç”¨æ³›å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¸ºä¼ å…¥çš„æ³›å‹ç±»å‹å®å‚è¿›è¡Œä¸Šä¸‹è¾¹ç•Œçš„é™åˆ¶ï¼Œå¦‚ï¼šç±»å‹å®å‚åªå‡†ä¼ å…¥æŸç§ç±»å‹çš„çˆ¶ç±»æˆ–æŸç§ç±»å‹çš„å­ç±»ã€‚

æ·»åŠ ä¸Šè¾¹ç•Œï¼Œå°±æ˜¯æŒ‡ä¼ å…¥çš„ç±»å‹å®å‚å¿…é¡»æ˜¯æŒ‡å®šç±»å‹çš„å­ç±»å‹ã€‚
```
public void showKeyValue1(Generic<? extends Number> obj){
    Log.d("æ³›å‹æµ‹è¯•","key value is " + obj.getKey());
}
```
```
Generic<String> generic1 = new Generic<String>("s");
Generic<Integer> generic2 = new Generic<Integer>(1314520);
Generic<Float> generic3 = new Generic<Float>(11.11f);
Generic<Double> generic4 = new Generic<Double>(3.14);

//è¿™ä¸€è¡Œä»£ç ç¼–è¯‘å™¨ä¼šæç¤ºé”™è¯¯ï¼Œå› ä¸ºStringç±»å‹å¹¶ä¸æ˜¯Numberç±»å‹çš„å­ç±»
//showKeyValue1(generic1);

showKeyValue1(generic2);
showKeyValue1(generic3);
showKeyValue1(generic4);
```
å¦‚æœå†æŠŠæŠŠæ³›å‹ç±»çš„å®šä¹‰ä¹Ÿæ”¹ä¸€ä¸‹:
```
public class Generic<T extends Number>{
    private T key;

    public Generic(T key) {
        this.key = key;
    }

    public T getKey(){
        return key;
    }
}
```
```
//è¿™ä¸€è¡Œä»£ç ä¹Ÿä¼šæŠ¥é”™ï¼Œå› ä¸ºStringä¸æ˜¯Numberçš„å­ç±»

Generic<String> generic1 = new Generic<String>("11111");
```
æˆ‘ä»¬å‘ç°ï¼š**æ³›å‹çš„ä¸Šä¸‹è¾¹ç•Œæ·»åŠ ï¼Œå¿…é¡»ä¸æ³›å‹çš„å£°æ˜åœ¨ä¸€èµ·**ã€‚


## å…­.æ³›å‹å­˜åœ¨çš„çº¦æŸ
- æ— æ³•å®ä¾‹åŒ–æ³›å‹ç±»
- æ— æ³•ä½¿ç”¨instanceofå…³é”®å­—æˆ–==åˆ¤æ–­æ³›å‹ç±»çš„ç±»å‹
- æ³›å‹ç±»ä¸èƒ½ç»§æ‰¿Exceptionæˆ–è€…Throwable
- ä¸èƒ½æ•è·æ³›å‹ç±»å‹é™å®šçš„å¼‚å¸¸ä½†å¯ä»¥å°†æ³›å‹é™å®šçš„å¼‚å¸¸æŠ›å‡º
- æ³›å‹ç±»çš„åŸç”Ÿç±»å‹ä¸æ‰€ä¼ é€’çš„æ³›å‹æ— å…³ï¼Œæ— è®ºä¼ é€’ä»€ä¹ˆç±»å‹ï¼ŒåŸç”Ÿç±»æ˜¯ä¸€æ ·çš„
- é™æ€å˜é‡æˆ–æ–¹æ³•ä¸èƒ½å¼•ç”¨æ³›å‹ç±»å‹å˜é‡ï¼Œä½†æ˜¯é™æ€æ³›å‹æ–¹æ³•æ˜¯å¯ä»¥çš„
- åŸºæœ¬ç±»å‹æ— æ³•ä½œä¸ºæ³›å‹ç±»å‹
- æ³›å‹æ•°ç»„å¯ä»¥å£°æ˜ä½†æ— æ³•å®ä¾‹åŒ–

**æ›´å¤šå…³äºJavaæ³›å‹çš„æœ‰æ„æ€çš„å­¦ä¹ ç»å†ä¹Ÿéœ€è¦é å¤§å®¶åœ¨æ—¥å¸¸å·¥ä½œä¸­è®¤çœŸå»ä½“ä¼šå•¦~**

----
>æ–‡ç« å¯ä»¥ç™½å«–ï¼Œè€é“ä»¬é¡ºä¾¿å…³æ³¨ä¸€ä¸‹æˆ‘çš„å…¬ä¼—å·ï¼Œæ‰‹åŠ¨æ»‘ç¨½ğŸ¤£ğŸ¤£ &nbsp;
>
> æ¬¢è¿å¤§å®¶å…³æ³¨ï¼š**æ­¦å“¥èŠç¼–ç¨‹**ã€**Javaå¼€å‘å®å…¸**ã€**Javaç§ƒå¤´å“¥**ï¼Œæ‚¨çš„æ”¯æŒï¼Œæ˜¯æˆ‘åˆ›ä½œçš„æŒç»­åŠ¨åŠ›ï¼&nbsp;&nbsp;

![æ­¦å“¥èŠç¼–ç¨‹](https://img-blog.csdnimg.cn/202002150421550.jpg)![Javaå¼€å‘å®å…¸](https://img-blog.csdnimg.cn/20200608005630228.png)![Javaç§ƒå¤´å“¥](https://img-blog.csdnimg.cn/20201025170941235.png)
