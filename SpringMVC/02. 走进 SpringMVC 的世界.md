> æ–‡ç« å¯ä»¥ç™½å«–ï¼Œå…¬ä¼—å·ä¸èƒ½ä¸å…³æ³¨ï¼Œæ‰‹åŠ¨æ»‘ç¨½ğŸ¤£ğŸ¤£ &nbsp;
>
> æ¬¢è¿å¤§å®¶å…³æ³¨ï¼š**æ­¦å“¥èŠç¼–ç¨‹**ã€**Javaå¼€å‘å®å…¸**ï¼Œæ‚¨çš„æ”¯æŒï¼Œæ˜¯æˆ‘ä»¬åˆ›ä½œçš„æŒç»­åŠ¨åŠ›ï¼&nbsp;&nbsp;

![æ­¦å“¥èŠç¼–ç¨‹](https://img-blog.csdnimg.cn/202002150421550.jpg)![Javaå¼€å‘å®å…¸](https://img-blog.csdnimg.cn/20200608005630228.png)![Javaç§ƒå¤´å“¥](https://img-blog.csdnimg.cn/20201025170941235.png)

----

ä¸Šä¸€ç¯‡åšæ–‡ä¸»è¦ä»‹ç»äº†springmvcçš„æ•´ä¸ªæ¶æ„æ‰§è¡Œæµç¨‹ï¼Œå¯¹springmvcæœ‰äº†å®è§‚ä¸Šçš„æŠŠæ¡ï¼Œè¿™ä¸€ç¯‡åšæ–‡ä¸»è¦ä»¥æ¡ˆä¾‹ä½œä¸ºé©±åŠ¨ï¼Œå¸¦ä½ èµ°è¿›springmvcçš„ä¸–ç•Œã€‚æ¡ˆä¾‹ä¸­çš„éœ€æ±‚å¾ˆç®€å•ï¼šå¯¹å•†å“åˆ—è¡¨çš„æŸ¥è¯¢ã€‚è¡¨çš„è¯è¿˜æ˜¯ä½¿ç”¨æˆ‘åœ¨å­¦ä¹ mybatisæ—¶å€™ç”¨çš„è¡¨ï¼Œå…·ä½“å¯ä»¥å‚è§[è¿™ç¯‡åšæ–‡](http://blog.csdn.net/eson_15/article/details/51648140)ä¸­çš„å»ºè¡¨è¯­å¥ã€‚

## 1. ç¯å¢ƒçš„æ­å»º

éœ€è¦å¯¼å…¥springçš„jaråŒ…ï¼Œå•çº¯çš„å…¥é—¨springmvcçš„è¯ä¸éœ€è¦å¯¼å…¥æ‰€æœ‰çš„spring jaråŒ…ï¼Œä½†æ˜¯æ ¸å¿ƒåŒ…å’Œspring-web/spring-webmvcæ˜¯ä¸€å®šè¦å¯¼å…¥çš„ï¼Œè€ƒè™‘åˆ°åé¢è¿˜ä¼šå’Œmybatisæ•´åˆï¼Œæ‰€ä»¥ä¹Ÿå¯¼å…¥äº†æŒä¹…æ“ä½œçš„åŒ…å’Œaopçš„åŒ…ï¼Œæ€»å…±å¦‚ä¸‹ï¼š

![jaråŒ…](https://img-blog.csdnimg.cn/img_convert/554001db036bf51c8b416c125dfae6fe.png)

æˆ‘ä¸ºä»€ä¹ˆå†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™æ²¡æœ‰mavenå‘¢ï¼Ÿä¸»è¦æ˜¯ä¸ºäº†æ›´å¥½çš„ç†è§£æœ‰å“ªäº›åŒ…ï¼Œè¿™æ ·æ›´é€å½»ã€‚

## 2. é…ç½®å‰ç«¯æ§åˆ¶å™¨DispatcherServlet

å‰ç«¯æ§åˆ¶å™¨è¦é…ç½®åœ¨WEB-INF/web.xmlä¸­ï¼Œå¦‚ä¸‹ï¼š

```xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://java.sun.com/xml/ns/javaee" xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd" id="WebApp_ID" version="3.0">
  <display-name>SpringMVC_Study</display-name>
  <welcome-file-list> 
    <welcome-file>index.jsp</welcome-file>
  </welcome-file-list>
  <!-- é…ç½®å‰ç«¯æ§åˆ¶å™¨DispatcherServlet -->
  <servlet>
  	<servlet-name>springmvc</servlet-name>
  	<servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
  	<init-param>
  		<param-name>contextConfigLocation</param-name>
  		<param-value>classpath:springmvc.xml</param-value>
  	</init-param>
  </servlet>
  
  <servlet-mapping>
  	<servlet-name>springmvc</servlet-name>
  	<url-pattern>*.action</url-pattern>
  </servlet-mapping>  
</web-app>
```
ä»ä¸Šé¢çš„é…ç½®ä¸­å¯ä»¥çœ‹å‡ºï¼Œå’Œä»¥å‰å­¦ä¹ servletæ—¶å€™çš„é…ç½®åŸºæœ¬ä¸Šä¸€æ¨¡ä¸€æ ·ï¼Œå‰ç«¯æ§åˆ¶å™¨å°±ç›¸å½“äºä¸€ä¸ªservletï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œéœ€è¦æˆ‘ä»¬é…ç½®contextConfigLocationã€‚contextConfigLocationæ˜¯ç”¨æ¥åŠ è½½springmvcçš„é…ç½®æ–‡ä»¶ï¼ˆé…ç½®å¤„ç†å™¨æ˜ å°„å™¨ã€é€‚é…å™¨ç­‰ï¼‰ çš„ï¼Œå¦‚æœä¸é…ç½®contextConfigLocationï¼Œåˆ™é»˜è®¤åŠ è½½çš„æ˜¯`WEB-INF/[DispatcherServletçš„Servletåå­—]-servlet.xml`ã€‚æ‰€ä»¥å¤„ç†å™¨æ˜ å°„å™¨å’Œå¤„ç†å™¨é€‚é…å™¨éƒ½ä¼šé…åœ¨classpathä¸‹æˆ‘ä»¬æŒ‡å®šçš„springmvc.xmlä¸­ã€‚

è¿˜æœ‰ä¸€ä¸ªè¦è¯´æ˜çš„åœ°æ–¹å°±æ˜¯DispatcherServletçš„æ‹¦æˆªæ–¹å¼ï¼Œä¸»è¦æœ‰ä¸‰ç§æ‹¦æˆªæ–¹å¼ï¼Œå¦‚ä¸‹ï¼š

>1. `*.action`ï¼Œå¯ä»¥è®¿é—®ä»¥.actionç»“å°¾çš„åœ°å€ï¼Œç”±DispatcherServletè¿›è¡Œè§£æã€‚æ­¤æ–¹æ³•æœ€ç®€å•ï¼Œä¸ä¼šå¯¼è‡´é™æ€èµ„æºï¼ˆjpg,js,cssï¼‰è¢«æ‹¦æˆªã€‚
>2. /ï¼Œæ‰€æœ‰è®¿é—®çš„åœ°å€éƒ½ç”±DispatcherServletè¿›è¡Œè§£æï¼Œæ­¤æ–¹æ³•å¯ä»¥å®ç°RESTé£æ ¼çš„urlï¼Œå¾ˆå¤šäº’è”ç½‘ç±»å‹çš„åº”ç”¨ä½¿ç”¨è¿™ç§æ–¹å¼ã€‚ä½†æ˜¯æ­¤æ–¹æ³•ä¼šå¯¼è‡´é™æ€æ–‡ä»¶ï¼ˆjpg,js,cssï¼‰è¢«æ‹¦æˆªåä¸èƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œæ‰€ä»¥å¯¹é™æ€æ–‡ä»¶çš„è§£æéœ€è¦é…ç½®ä¸è®©DispatcherServletè¿›è¡Œè§£æã€‚
>3. `/*`ï¼Œè¿™æ ·é…ç½®æ˜¯ä¸å¯¹çš„ï¼Œä½¿ç”¨è¿™ç§é…ç½®ï¼Œæœ€é‡è¦è½¬å‘åˆ°ä¸€ä¸ªjspé¡µé¢æ—¶ï¼Œä»ç„¶ä¼šç”±DispatcherServletè§£æjspåœ°å€ï¼Œä¸èƒ½æ ¹æ®jspé¡µé¢æ‰¾åˆ°Handlerï¼Œä¼šæŠ¥é”™ã€‚

è¿™é‡Œé‡‡ç”¨çš„æ˜¯ç¬¬ä¸€ç§æ–¹å¼ã€‚

## 3. é…ç½®å¤„ç†å™¨é€‚é…å™¨HandlerAdapter

å› ä¸ºå¤„ç†å™¨Handlerè¦æ ¹æ®é€‚é…å™¨çš„è¦æ±‚æ¥å¼€å‘ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆé…ç½®ä¸€ä¸‹é€‚é…å™¨HandlerAdapterï¼Œåœ¨springmvc.xmlä¸­é…ç½®ï¼š

```xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	   xmlns:mvc="http://www.springframework.org/schema/mvc"
	   xmlns:context="http://www.springframework.org/schema/context"
	   xmlns:aop="http://www.springframework.org/schema/aop" 
	   xmlns:tx="http://www.springframework.org/schema/tx"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-4.2.xsd
        http://www.springframework.org/schema/mvc 
		http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd 
        http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd
        http://www.springframework.org/schema/aop
        http://www.springframework.org/schema/aop/spring-aop-4.2.xsd
        http://www.springframework.org/schema/tx
        http://www.springframework.org/schema/tx/spring-tx.xsd">
        
	<!-- å¤„ç†å™¨é€‚é…å™¨ï¼šHandlerAdapterã€‚æ‰€æœ‰å¤„ç†å™¨é€‚é…å™¨éƒ½å®ç°äº†HandlerAdapteræ¥å£-->
	<!-- SimpleControllerHandlerAdapteré€‚é…å™¨èƒ½æ‰§è¡Œå®ç°äº†Controlleræ¥å£çš„Handler 
	æ‰€ä»¥ï¼Œç°åœ¨é…ç½®äº†è¿™ä¸ªé€‚é…å™¨çš„è¯ï¼Œæ‰€æœ‰çš„å¤„ç†å™¨Handlerå¿…é¡»è¦å®ç°Controlleræ¥å£æ‰è¡Œã€‚
-->
	<bean class="org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter" />	
</beans>
```

é€‚é…å™¨SimpleControllerHandlerAdapterèƒ½æ‰§è¡Œå®ç°äº†Controlleræ¥å£çš„Handlerï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿçœ‹ä¸‹éƒ¨åˆ†æºç å°±çŸ¥é“äº†ï¼š

![é€‚é…å™¨](https://img-blog.csdnimg.cn/img_convert/7c8d0d7ca8bff3e994247b5dbf7b2ac5.png)

æ—¢ç„¶è¿™ä¸ªé€‚é…å™¨èƒ½æ‰§è¡Œå®ç°äº†Controlleræ¥å£çš„Handlerï¼Œé‚£æˆ‘ä»¬è¶çƒ­æ‰“é“ï¼ŒæŠŠHandlerç»™å†™äº†ã€‚

## 4. å¤„ç†å™¨Handlerå¼€å‘

è¿™é‡Œä¸ºäº†æ–¹ä¾¿ï¼Œä¸æ¶‰åŠåˆ°mybatisæŸ¥è¯¢æ•°æ®åº“ï¼Œæˆ‘ç”¨é™æ€æ•°æ®æ¨¡æ‹Ÿä¸€ä¸‹ï¼š

```java
public class ItemsController1 implements Controller {

	@Override
	public ModelAndView handleRequest(HttpServletRequest request,
			HttpServletResponse response) throws Exception {

		//å®é™…ä¸­æ˜¯è°ƒç”¨serviceæŸ¥æ‰¾æ•°æ®åº“ï¼ŒæŸ¥è¯¢å•†å“åˆ—è¡¨ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨é™æ€æ•°æ®æ¥æ¨¡æ‹Ÿäº†
		List<Items> itemsList = new ArrayList<Items>();
		//å‘listä¸­å¡«å……é™æ€æ•°æ®
		Items items_1 = new Items();
		items_1.setName("è”æƒ³ç¬”è®°æœ¬");
		items_1.setPrice(6000f);
		items_1.setDetail("ThinkPad T430 è”æƒ³ç¬”è®°æœ¬ç”µè„‘ï¼");
		
		Items items_2 = new Items();
		items_2.setName("è‹¹æœæ‰‹æœº");
		items_2.setPrice(5000f);
		items_2.setDetail("iPhone6è‹¹æœæ‰‹æœºï¼");
		
		itemsList.add(items_1);
		itemsList.add(items_2);
		
		//è¿”å›ModelAndView
		ModelAndView modelAndView = new ModelAndView();
		
		//ç›¸å½“äºrequestçš„setAttributeï¼Œåœ¨jspé¡µé¢ä¸­é€šè¿‡itemsListå–æ•°æ®
		modelAndView.addObject("itemaList", itemsList);
		
		//æŒ‡å®šè§†å›¾
		modelAndView.setViewName("/WEB-INF/jsp/items/itemsList.jsp");
		
		return modelAndView;
	}
}
```
ç¨‹åºä¸­åé¢çš„è§†å›¾éƒ¨åˆ†å°±è·Ÿä¹‹å‰å­¦ä¹ servletæ—¶å·®ä¸å¤šï¼Œåªä¸è¿‡æ¢ç§å†™æ³•è€Œå·²ã€‚

## 5. é…ç½®å¤„ç†å™¨Handler

å†™å¥½äº†Handlerï¼Œæˆ‘ä»¬éœ€è¦åœ¨springmvc.xmlä¸­å¯¹è¯¥Handlerè¿›è¡Œé…ç½®ï¼Œå¦‚ä¸‹ï¼š

```xml
<!-- é…ç½®Handler -->    
<bean name="/queryItems.action" class="ssm.controller.ItemsController1" />
```
å…ˆä¸è¯´è¿™ä¸ªé…ç½®ï¼Œåœ¨ä¸‹é¢æ˜ å°„å™¨é…å®Œäº†ä¸€èµ·è¯´ã€‚

## 6. é…ç½®å¤„ç†å™¨æ˜ å°„å™¨HandlerMapping

HandlerMappingä¹Ÿæ˜¯åœ¨springmvc.xmlä¸­é…ç½®ï¼Œå¦‚ä¸‹ï¼š
```xml
<!-- é…ç½®å¤„ç†å™¨æ˜ å°„å™¨
	å°†beançš„nameä½œä¸ºurlè¿›è¡ŒæŸ¥æ‰¾ï¼Œéœ€è¦åœ¨é…ç½®Handleræ—¶æŒ‡å®šbeannameï¼ˆå°±æ˜¯urlï¼‰
 -->
<bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping" />
```
BeanNameUrlHandlerMappingï¼šè¡¨ç¤ºå°†å®šä¹‰çš„Beançš„nameä½œä¸ºè¯·æ±‚çš„urlï¼Œéœ€è¦å°†ç¼–å†™çš„controlleråœ¨springå®¹å™¨ä¸­è¿›è¡Œé…ç½®ï¼ˆå³ä¸Šé¢çš„Handleré…ç½®ï¼‰ï¼Œä¸”æŒ‡å®šbeançš„nameä¸ºè¯·æ±‚çš„urlï¼Œä¸”å¿…é¡»ä»¥.actionç»“å°¾ã€‚æ‰€ä»¥å½“è¯·æ±‚çš„åœ°å€ä¸ºï¼š`ä¸Šä¸‹æ–‡/queryItems.action`æ—¶ï¼Œæ˜ å°„å™¨BeanNameUrlHandlerMappingå°±ä¼šæ‰¾åˆ°è¿™ä¸ªHandleré…ç½®ä¸­æŒ‡å®šçš„classï¼Œä¹Ÿå°±æ˜¯IntemsController1.javaå»æ‰§è¡Œï¼Œè¿”å›ModelAndViewã€‚è¿™æ ·å°±æ‰“é€šäº†è¯·æ±‚->Handlerè¿™æ¡çº¿äº†ã€‚

## 7. é…ç½®è§†å›¾è§£æå™¨ViewResolver
æœ€åä¸€æ­¥å°±æ˜¯åœ¨springmvc.xmlä¸­é…ç½®ViewResolveräº†ï¼Œå¦‚ä¸‹ï¼š
```xml
<!-- é…ç½®è§†å›¾è§£æå™¨ 
	è¿›è¡Œjspè§£æï¼Œé»˜è®¤ä½¿ç”¨jstlæ ‡ç­¾ï¼Œclasspathä¸‹å¾—æœ‰jstlçš„åŒ…
-->
<bean class="org.springframework.web.servlet.view.InternalResourceViewResolver" />
```
è¿™æ ·å°±å¯ä»¥è§£æjspäº†ã€‚æœ€åè´´ä¸ŠitemsList.jspçš„ä»£ç ï¼Œä¸»è¦æ˜¯æ˜¾ç¤ºä¸€ä¸‹Handlerä¸­è‡ªå®šä¹‰çš„é™æ€æ•°æ®ï¼Œç”¨æ¥æµ‹è¯•çš„ã€‚

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/fmt" prefix="fmt"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>æŸ¥è¯¢å•†å“åˆ—è¡¨</title>
</head>
<body>
	<form
		action="${pageContext.request.contextPath }/item/queryItem.action"
		method="post">
		æŸ¥è¯¢æ¡ä»¶ï¼š
		<table width="100%" border=1>
			<tr>
				<td><input type="submit" value="æŸ¥è¯¢" /></td>
			</tr>
		</table>
		å•†å“åˆ—è¡¨ï¼š
		<table width="100%" border=1>
			<tr>
				<td>å•†å“åç§°</td>
				<td>å•†å“ä»·æ ¼</td>
				<td>ç”Ÿäº§æ—¥æœŸ</td>
				<td>å•†å“æè¿°</td>
				<td>æ“ä½œ</td>
			</tr>
			<c:forEach items="${itemsList }" var="item">
				<tr>
					<td>${item.name }</td>
					<td>${item.price }</td>
					<td><fmt:formatDate value="${item.createtime}"
							pattern="yyyy-MM-dd HH:mm:ss" /></td>
					<td>${item.detail }</td>

					<td><a
						href="${pageContext.request.contextPath }/item/editItem.action?id=${item.id}">ä¿®æ”¹</a></td>

				</tr>
			</c:forEach>

		</table>
	</form>
</body>

</html>
```
## 8. éƒ¨ç½²é¡¹ç›®å·¥ç¨‹

æœ€åéƒ¨ç½²ä»¥ä¸‹é¡¹ç›®å·¥ç¨‹ï¼Œæ‰“å¼€tomcatï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥:http://localhost:8080/SpringMVC_Study/queryItems.actionæ—¶å°±ä¼šå‡ºç°itemsList.jspä¸­çš„å†…å®¹ï¼Œè¯´æ˜æµ‹è¯•æˆåŠŸï¼

é€šè¿‡è¿™ä¸ªå°æ¡ˆä¾‹ï¼ŒåŸºæœ¬ä¸Šå·²ç»èµ°å…¥äº†springmvcçš„ä¸–ç•Œäº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å­¦ä¹ springmvcä¸­å…¶ä»–çš„çŸ¥è¯†äº†ï¼Œä¸‹ä¸€ç¯‡åšæ–‡ä¸»è¦æ¥æ€»ç»“ä¸€ä¸‹springmvcä¸­æ³¨è§£å’Œéæ³¨è§£çš„ä½¿ç”¨ã€‚

------

> æ–‡ç« å¯ä»¥ç™½å«–ï¼Œå…¬ä¼—å·ä¸èƒ½ä¸å…³æ³¨ï¼Œæ‰‹åŠ¨æ»‘ç¨½ğŸ¤£ğŸ¤£ &nbsp;
>
> æ¬¢è¿å¤§å®¶å…³æ³¨ï¼š**æ­¦å“¥èŠç¼–ç¨‹**ã€**Javaå¼€å‘å®å…¸**ï¼Œæ‚¨çš„æ”¯æŒï¼Œæ˜¯æˆ‘ä»¬åˆ›ä½œçš„æŒç»­åŠ¨åŠ›ï¼&nbsp;&nbsp;

![æ­¦å“¥èŠç¼–ç¨‹](https://img-blog.csdnimg.cn/202002150421550.jpg)![Javaå¼€å‘å®å…¸](https://img-blog.csdnimg.cn/20200608005630228.png)![Javaç§ƒå¤´å“¥](https://img-blog.csdnimg.cn/20201025170941235.png)

---

